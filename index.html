<!DOCTYPE html>
<html lang="de">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Mini Geometry Dash</title>
<style>
  body{margin:0;background:#222;overflow:hidden;font-family:sans-serif;}
  canvas{display:block;background:#222;}
  #score{position:fixed;top:10px;left:10px;color:#fff;font-size:24px;}
</style>
</head>
<body>
<div id="score">Score: 0</div>
<canvas id="game"></canvas>
<script>
const canvas = document.getElementById('game');
const ctx = canvas.getContext('2d');
canvas.width = window.innerWidth;
canvas.height = window.innerHeight;

let player = {x:100,y:canvas.height-50,w:50,h:50,vy:0,jump:15,gravity:0.8,onGround:true};
let obstacles = [];
let speed = 6;
let score = 0;
let gameOver = false;

// --- Controls ---
document.addEventListener('keydown',e=>{
  if(e.code==='Space'){ jump(); }
});
document.addEventListener('mousedown', jump);
function jump(){
  if(player.onGround){ player.vy=-player.jump; player.onGround=false; }
}

// --- Obstacles ---
function addObstacle(){
  const h = Math.random()*100 + 50;
  obstacles.push({x:canvas.width, y:canvas.height-h, w:50, h:h});
}

// --- Game Loop ---
function loop(){
  if(gameOver){ ctx.fillStyle="#fff"; ctx.font="48px sans-serif"; ctx.fillText("Game Over! Score: "+score, canvas.width/2-200,canvas.height/2); return; }

  ctx.clearRect(0,0,canvas.width,canvas.height);

  // Player physics
  player.vy += player.gravity;
  player.y += player.vy;
  if(player.y + player.h >= canvas.height){ player.y = canvas.height-player.h; player.vy=0; player.onGround=true; }

  // Draw player
  ctx.fillStyle = "#2d9cdb";
  ctx.fillRect(player.x,player.y,player.w,player.h);

  // Obstacles
  if(Math.random()<0.02){ addObstacle(); }
  for(let i=obstacles.length-1;i>=0;i--){
    const o = obstacles[i];
    o.x -= speed;
    ctx.fillStyle="#ff4444";
    ctx.fillRect(o.x,o.y,o.w,o.h);

    // Collision
    if(player.x < o.x+o.w && player.x+player.w>o.x && player.y<o.y+o.h && player.y+player.h>o.y){ gameOver=true; }

    if(o.x+o.w<0){ obstacles.splice(i,1); score++; document.getElementById('score').innerText="Score: "+score; }
  }

  requestAnimationFrame(loop);
}
loop();

// --- Resize ---
window.addEventListener('resize', ()=>{
  canvas.width = window.innerWidth;
  canvas.height = window.innerHeight;
});
</script>
</body>
</html>
